version: '3'

services:
    local-nuget-server:
      image: loicsharma/baget:latest
      container_name: local-nuget-server
      ports:
        - "5555:80"
      environment:
        - ApiKey=local-nuget-secret
        - Storage__Type=FileSystem
        - Storage__Path=/var/baget/packages
        - Database__Type=Sqlite
        - Database__ConnectionString=Data Source=/var/baget/baget.db
        - Search__Type=Database
        - AllowPackageOverwrites=True
        - PackageDeletionBehavior=HardDelete
      volumes:
        - ./nuget-packages:/var/baget
